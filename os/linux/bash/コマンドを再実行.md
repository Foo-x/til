# コマンドを再実行

```bash
# 直前のコマンド(historyで100番目とする)
cp abc def

# 直前
!!  # cp abc def
# sudo !! はよく使う

# n個前
!-1  # cp abc def

# コマンド履歴のn番目
!100  # cp abc def
# history | grep xxxで検索してから !100 などはよく使う

# コマンド履歴から先頭が一致する最も新しいもの
!cp  # cp abc def

# コマンド履歴から一部が一致する最も新しいもの
!?abc  # cp abc def

# 直前のコマンドのa番目からb番目まで
!:1-2  # abc def
# 1つ目の数字を省略すると最初からb番目まで 例: !:-1  # cp abc
# 2つ目の数字を省略するとa番目から最後の1つ前まで 例: !:1-  # abc
# 数字を2つとも省略すると最初から最後の1つ前まで 例: !:-  # cp abc
# 1つの数字だけだとa番目だけ 例: !:1  # abc

# 直前のコマンドの最後の引数
!$  # def
# !:$ と同じ
# cpやtouchしたけどやっぱりいらないときに rm !$ などが便利？

# 直前のコマンドの最初以外の引数
!*  # abc def
# !:1-$ や !:*も同じ
# 引数は合ってるけどコマンドを間違えたときに foo !* などが便利？

# 直前のコマンドの最後の引数以外
!:-  # cp abc
# !:1-2 の数字を2つとも省略したケース
# 複数のURLでcurlするときに !:- https://example.com/ や、複数の場所にcpするときに !:- target/ などが便利？

# 直前のコマンドの置換
^abc^aaa  # cp aaa def
# 引数の一部を間違えた時などに便利？
# 他の再実行コマンドに:sをつけて組み合わせることが可能
# 例: !:-:s^abc^aaa で直前のコマンドの最後の引数以外に対してabcをaaaに置換して実行
# 前方一致なので注意

# 直前のコマンドの一部削除
^abc  # cp  def

# 直前のコマンドを編集して実行
fc
```
